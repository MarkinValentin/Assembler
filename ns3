#include “ns3/core-module.h”
#include “ns3/network-module.h”
#include “ns3/mobility-module.h”
#include “ns3/lte-module.h”
#include “ns3/config-store.h”
#include <ns3/buildings-helper.h>
using namespace ns3;

int main (int argc, char *argv[])
{
CommandLine cmd;
cmd.Parse (argc, argv);

ns3::ConfigStore::Mode=Save –ns3::ConfigStore::FileFormat=RawText” –run src/lte/examples/lena-first-sim

ns3::ConfigStore::Mode=Load –ns3::ConfigStore::FileFormat=RawText” –run src/lte/examples/lena-first-sim

ConfigStore inputConfig;
inputConfig.ConfigureDefaults ();

cmd.Parse (argc, argv);

Ptr lteHelper = CreateObject ();

NodeContainer enbNodes;
NodeContainer ueNodes;
enbNodes.Create (1);
ueNodes.Create (1);

MobilityHelper mobility;
mobility.SetMobilityModel (“ns3::ConstantPositionMobilityModel”);
mobility.Install (enbNodes);
BuildingsHelper::Install (enbNodes);
mobility.SetMobilityModel (“ns3::ConstantPositionMobilityModel”);
mobility.Install (ueNodes);
BuildingsHelper::Install (ueNodes);

NetDeviceContainer enbDevs;
NetDeviceContainer ueDevs;

enbDevs = lteHelper->InstallEnbDevice (enbNodes);
ueDevs = lteHelper->InstallUeDevice (ueNodes);

lteHelper->Attach (ueDevs, enbDevs.Get (0));

enum EpsBearer::Qci q = EpsBearer::GBR_CONV_VOICE;
EpsBearer bearer (q);
lteHelper->ActivateDataRadioBearer (ueDevs, bearer);
lteHelper->EnableTraces ();

Simulator::Stop (Seconds (1.05));

Simulator::Run ();
Simulator::Destroy ();
return 0;
}
